/**
 * Create by LiHongen on 2015/08/12 * Row model. */'use strict';var Redis = require('ioredis');var options = require('../config/db_config').Row_Redis;var redis = new Redis(options);module.exports = {  //判断用户是否存在  isExist: function(rid, callback){    redis.exists('row:'+rid, callback);  },  //新增用户  saveRow: function(rid, params, callback) {    redis.hmset('row:'+rid, params, callback);  },  //获取自增uid  incrRid: function(callback){    redis.incr('row:', callback);  },  //获取一条Row  getRow: function(rid, callback){    redis.hgetall('row:'+rid, callback);  },  //赞操作  upRow: function(rid){    redis.hincrby('row:'+rid, 'up', 1);  },  //踩操作  downRow: function(rid){    redis.hincrby('row:'+rid, 'down', 1);  },  //更新文章  update: function(rid, param, callback) {    redis.hset('row:'+rid, param, callback);  },  //增加文章位置  geoadd: function(rid, longitude, latitude, callback){    redis.geoadd('geo:row:', [longitude, latitude, rid]);  },  //获取最大Row数  getRowNum: function(callback){    redis.get('row:', callback)  },  //获取某个值的附近Row  getGeo: function(longitude, latitude, radius, callback) {    redis.georadius('geo:row:', longitude, latitude, radius, 'm', 'withdist', 'withcoord', callback)  }}
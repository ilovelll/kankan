/**
 * Create by LiHongen on 2015/08/12 * Comment model. */'use strict';var Redis = require('ioredis');var options = require('../config/db_config').Comment_Redis;var redis = new Redis(options);module.exports = {  //判断评论是否存在  isExist: function(cid, callback){    redis.exists('comment:'+cid, callback);  },  //获取自增Cid  incrCid: function(callback){    redis.incr('comment:', callback);  },  //新增评论  saveComment: function(cid, params, callback) {    redis.hmset('comment:'+cid, params, callback);  },  //Row评论数+1  incrCommentNum: function(rid, callback) {    redis.hincrby('row:'+rid, 'comment_num', 1, callback);  },  //维护Row的评论id集合  saveCommentSet: function(rid, cid, callback) {    redis.sadd('row:comment:'+rid, cid, callback);  },  //按照rid获取该Row下评论id  getCommentByRid: function(rid, callback){    redis.smembers('row:comment:'+rid, callback);  },  //按照cid获取评论数据  getComment: function(cid, callback){    redis.hgetall('comment:'+cid, callback);  },  //删除评论  delComment:function(cid, callback){    redis.hdel('comment:'+cid, callback)  }}